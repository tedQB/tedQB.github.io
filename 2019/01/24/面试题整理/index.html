<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/atom.xml" title="卡牌大叔的博客" type="application/atom+xml">






<meta name="description" content="## OS### 缓存1cache狭义指的是CPU和RAM主存之间的Cache(利用比较昂贵的SRAM) 而且在内存和硬盘之间也有Cache（磁盘缓存） 乃至在硬盘与网络之间也有某种意义上的Cache(如浏览器缓存) 当然也有代码级缓存(某些斐波那契算法) (内存包括ROM RAM Cache)### ASCII12345678910111213ASCII = 美国信息交换标准代码标准: 使用7位">
<meta property="og:type" content="article">
<meta property="og:title" content="卡牌大叔的博客">
<meta property="og:url" content="http://yoursite.com/2019/01/24/面试题整理/index.html">
<meta property="og:site_name" content="卡牌大叔的博客">
<meta property="og:description" content="## OS### 缓存1cache狭义指的是CPU和RAM主存之间的Cache(利用比较昂贵的SRAM) 而且在内存和硬盘之间也有Cache（磁盘缓存） 乃至在硬盘与网络之间也有某种意义上的Cache(如浏览器缓存) 当然也有代码级缓存(某些斐波那契算法) (内存包括ROM RAM Cache)### ASCII12345678910111213ASCII = 美国信息交换标准代码标准: 使用7位">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-01-24T14:08:38.875Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="卡牌大叔的博客">
<meta name="twitter:description" content="## OS### 缓存1cache狭义指的是CPU和RAM主存之间的Cache(利用比较昂贵的SRAM) 而且在内存和硬盘之间也有Cache（磁盘缓存） 乃至在硬盘与网络之间也有某种意义上的Cache(如浏览器缓存) 当然也有代码级缓存(某些斐波那契算法) (内存包括ROM RAM Cache)### ASCII12345678910111213ASCII = 美国信息交换标准代码标准: 使用7位">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/01/24/面试题整理/">





  <title> | 卡牌大叔的博客</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">卡牌大叔的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/24/面试题整理/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="卡牌大叔">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="卡牌大叔的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline"></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-24T21:59:58+08:00">
                2019-01-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <div class="post-body" itemprop="articleBody" style="opacity: 1; display: block; transform: translateY(0px);"><br><br>## <a href="#OS" title="OS"></a>OS<br><br>### <a href="#缓存" title="缓存"></a>缓存<br><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cache狭义指的是CPU和RAM主存之间的Cache(利用比较昂贵的SRAM) 而且在内存和硬盘之间也有Cache（磁盘缓存） 乃至在硬盘与网络之间也有某种意义上的Cache(如浏览器缓存) 当然也有代码级缓存(某些斐波那契算法) (内存包括ROM RAM Cache)</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#ASCII" title="ASCII"></a>ASCII<br><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ASCII = 美国信息交换标准代码</span><br><span class="line"></span><br><span class="line">标准: 使用7位二进制数来表示所有的 大写/小写字母 数字0-9 标点符号  美式英语特殊控制字符</span><br><span class="line"></span><br><span class="line">0 - NUL空字符</span><br><span class="line">48 - 数字0</span><br><span class="line">65 - A</span><br><span class="line">97 - a</span><br><span class="line"></span><br><span class="line">其最高位(b7) == 奇偶校验位:</span><br><span class="line">所谓奇偶校验 是指在代码传送过程中用来检验是否出现错误的一种方法 一般分奇校验和偶校验两种。</span><br><span class="line">奇校验规定: 正确的代码一个字节中1的个数必须是奇数，若非奇数，则在最高位b7添1</span><br><span class="line">偶校验规定: 正确的代码一个字节中1的个数必须是偶数，若非偶数，则在最高位b7添1</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#unicode" title="unicode"></a>unicode<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Unicode=国际码=国际字符和二进制数字的对应关系</span><br><span class="line">Unicode 只是一个符号集 它只规定了符号的二进制代码 却没有规定这个二进制代码应该如何存储</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#UTF-8" title="UTF-8"></a>UTF-8<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UTF<span class="number">-8</span> 就是在互联网上使用最广的一种 Unicode 的实现方式。</span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UTF<span class="number">-8</span> 最大的一个特点，就是它是一种变长的编码方式。它可以使用<span class="number">1</span>~<span class="number">4</span>个字节表示一个符号，根据不同的符号而变化字节长度。</span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">UTF<span class="number">-8</span> 的编码规则很简单 只有二条:</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>对于单字节的符号，字节的第一位设为<span class="number">0</span>，后面<span class="number">7</span>位为这个符号的 Unicode 码。因此对于英语字母，UTF<span class="number">-8</span> 编码和 ASCII 码是相同的。</span><br><span class="line"><span class="number">2.</span>对于n字节的符号（n &gt; <span class="number">1</span>），第一个字节的前n位都设为<span class="number">1</span>，第n + <span class="number">1</span>位设为<span class="number">0</span>，后面字节的前两位一律设为<span class="number">10</span>。剩下的没有提及的二进制位，全部为这个符号的 Unicode 码。</span><br><span class="line"></span><br><span class="line"><span class="comment">//下面，还是以汉字严为例，演示如何实现 UTF-8 编码。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//严的 Unicode 是4E25（100111000100101）</span></span><br><span class="line"><span class="comment">//根据上表，可以发现4E25处在第三行的范围内（0000 0800 - 0000 FFFF）</span></span><br><span class="line"><span class="comment">//因此严的 UTF-8 编码需要三个字节，即格式是1110xxxx 10xxxxxx 10xxxxxx。</span></span><br><span class="line"><span class="comment">//然后，从严的最后一个二进制位开始，依次从后向前填入格式中的x，多出的位补0。</span></span><br><span class="line"><span class="comment">//这样就得到了，严的 UTF-8 编码是11100100 10111000 10100101，转换成十六进制就是E4B8A5。</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#URL-编码" title="URL 编码"></a>URL 编码<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">URL编码 == 百分号编码</span><br><span class="line"></span><br><span class="line">对以下类型字符进行编码:</span><br><span class="line">1.引起歧义的字符 (如 value 字符串中包含了 = 或者 &amp; 比附宝洁公司的简称为P&amp;G)</span><br><span class="line">2.非法字符 (URL 的编码格式采用的是 ASCII 码 而不是 Unicode 这也就是说你不能在 URL 中包含任何非 ASCII 字符 例如中文)</span><br></pre></td></tr></tbody></table></figure><br><br>## <a href="#Network" title="Network"></a>Network<br><br>### <a href="#HTTP" title="HTTP"></a>HTTP<br><br><code>使用同一个[TCP连接]来发送和接收多个[HTTP请求/应答]</code><br><br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTTP 1.0 =&gt; 如果浏览器支持 keep-alive =&gt; 请求头中添加 Connection: Keep-Alive =&gt; 服务器收到请求添加 Connection: Keep-Alive =&gt; 保持连接</span><br><span class="line"></span><br><span class="line">HTTP 1.1 所有的连接默认都是持续连接 除非特殊声明不支持</span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HTTP 2.0 不会线头阻塞 同时通过单一的 HTTP/2 连接发起多重的请求-响应消息</span><br><span class="line">HTTP 2.0 server push 技术 服务器可以对客户端的一个请求发送多个响应</span><br><span class="line">+首部压缩 </span><br><span class="line">+二进制分帧层</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#CGI-amp-WSGI" title="CGI &amp; WSGI"></a>CGI &amp; WSGI<br><br><code>CGI: 通用网关接口 连接web服务器和应用程序的接口</code><br><code>WSGI: Python的CGI包装</code><br><br>### <a href="#内网-IP-网段" title="内网 IP 网段"></a>内网 IP 网段<br><figure class="highlight actionscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">但是在IPv4地址协议中预留了<span class="number">3</span>个IP地址段，作为私有地址，供组织机构内部使用。</span><br><span class="line">这三个地址段分别位于A、B、C三类地址内：</span><br><span class="line">A类地址：<span class="number">10.0</span><span class="number">.0</span><span class="number">.0</span>-<span class="number">-10.255</span><span class="number">.255</span><span class="number">.255</span></span><br><span class="line">B类地址：<span class="number">172.16</span><span class="number">.0</span><span class="number">.0</span>-<span class="number">-172.31</span><span class="number">.255</span><span class="number">.255</span></span><br><span class="line">C类地址：<span class="number">192.168</span><span class="number">.0</span><span class="number">.0</span>-<span class="number">-192.168</span><span class="number">.255</span><span class="number">.255</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#http-状态码" title="http 状态码"></a>http 状态码<br><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1<strong>(信息类)：表示接收到请求并且继续处理</strong></span><br><span class="line"></span><br><span class="line">2(响应成功)：表示动作被成功接收、理解和接受</span><br><span class="line"></span><br><span class="line">3<strong>(重定向类)：为了完成指定的动作，必须接受进一步处理</strong></span><br><span class="line">     301——本网页被永久性转移到另一个URL</span><br><span class="line">     302——请求的网页被转移到一个新的地址。</span><br><span class="line">    …</span><br><span class="line">     304——自从上次请求后，请求的网页未修改过，服务器返回此响应时，不会返回网页内容，代表上次的文档已经被缓存了，还可以继续使用</span><br><span class="line"></span><br><span class="line">4(客户端错误类)：请求包含错误语法或不能正确执行</span><br><span class="line"></span><br><span class="line">5<strong>(服务端错误类)：服务器不能正确执行一个正确的请求</strong></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#四种-POST-编码方式" title="四种 POST 编码方式"></a>四种 POST 编码方式<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">服务端通常是根据请求头（headers）中的 Content-Type 字段来获知请求中的消息主体是用何种方式编码</span><br><span class="line">再对主体进行解析。</span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1.application/x-www-form-urlencoded</span><br><span class="line"></span><br><span class="line">提交的数据按照 key1=val1&amp;key2=val2 的方式进行编码，key 和 val 都进行了 URL 转码。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2.multipart/form-data</span><br><span class="line"></span><br><span class="line">生成了一个 boundary 用于分割不同的字段</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3.application/json</span><br><span class="line"></span><br><span class="line">默认提交 JSON 字符串</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4.text/xml</span><br><span class="line"></span><br><span class="line">使用 XML 作为编码方式的远程调用规范</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#DNS污染" title="DNS污染"></a>DNS污染<br><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DNS污染主要原理:</span><br><span class="line">用户在访问/请求一个网址时，会将域名提交给DNS来查询这个域名的IP,</span><br><span class="line">查询到域名的IP后才会去访问这个IP请求到想要的资源。</span><br><span class="line">GFW的五种封锁方法中,最简单粗暴的就是DNS污染,</span><br><span class="line">DNS污染的主要原理就是干扰查询域名的返回IP。</span><br><span class="line">而hosts文件优先级比DNS高,hosts文件里若有对应IP,会使计算机绕过DNS直接访问IP。</span><br></pre></td></tr></tbody></table></figure><br><br><code>补充:绕过DNS后如果遇到了IP封锁仍然会访问失败。</code><br><br>### <a href="#NAT" title="NAT"></a>NAT<br><br><code>NAT=网络地址转换(Network Address Translation)</code><br><code>wifi=内网ip-&amp;gt;公网ip-&amp;gt;请求主机</code><br><br>## <a href="#Browser" title="Browser"></a>Browser<br><br>### <a href="#浏览器的5个常驻线程" title="浏览器的5个常驻线程"></a>浏览器的5个常驻线程<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">浏览器的五个常驻线程：</span><br><span class="line"></span><br><span class="line">1.浏览器 GUI 渲染线程</span><br><span class="line"></span><br><span class="line">2.javascript 引擎线程</span><br><span class="line"></span><br><span class="line">3.浏览器定时器触发线程( setTimeout,setInterval )</span><br><span class="line"></span><br><span class="line">4.浏览器事件触发线程</span><br><span class="line"></span><br><span class="line">5.浏览器 http 异步请求</span><br><span class="line"></span><br><span class="line">当js引擎线程（第二个）进行时，会挂起其他一切线程，这个时候3、4、5这三类线程也会产生不同的异步事件，由于 javascript引擎线程为单线程，所以代码都是先压到队列，采用先进先出的方式运行，事件处理函数，timer函数也会压在队列中，不断的从队头取出事件，这就叫：javascript-event-loop。简单点说应该是当在进行第二线程的时候，1，3，4，5都会挂起，比如这时候触发click事件，即使先前JS已经加载完成，click事件会压在队列里，这里也要先完成第二线程才会执行click事件。</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#OPTIONS方法" title="OPTIONS方法"></a>OPTIONS方法<br><br><code>区别于GET, POST, DELETE, PUT</code><br><br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">跨域资源共享标准新增了一组 HTTP 首部字段，允许服务器声明哪些源站有权限访问哪些资源。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">特别是 GET 以外的 HTTP 请求，或者搭配某些 MIME 类型的 POST 请求 比如 Content-Type application/json 的请求:</span><br><span class="line">浏览器必须首先使用 OPTIONS 方法发起一个预检请求（preflight request），从而获知服务端是否允许该跨域请求。</span><br><span class="line">服务器确认允许之后，才发起实际的 HTTP 请求。在预检请求的返回中，服务器端也可以通知客户端，是否需要携带身份凭证（包括 Cookies 和 HTTP 认证相关数据）。</span><br><span class="line"></span><br><span class="line">ps: 某些请求不会触发 CORS 预检请求 我们称之为 简单请求</span><br><span class="line">ps: 对于简单请求，浏览器直接发出CORS请求。具体来说，就是在头信息之中，增加一个Origin字段。如果Origin指定的源，不在许可范围内，服务器会返回一个正常的HTTP回应。浏览器发现，这个回应的头信息没有包含Access-Control-Allow-Origin字段（详见下文），就知道出错了，从而抛出一个错误，被XMLHttpRequest的onerror回调函数捕获。注意，这种错误无法通过状态码识别，因为HTTP回应的状态码有可能是<span class="number">200</span>。</span><br></pre></td></tr></tbody></table></figure><br><br><code>如何减少OPTIONS预检频率?  答案:Access-Control-Max-Age: 86400</code><br><br>### <a href="#输入URL按回车后都发生了什么" title="输入URL按回车后都发生了什么"></a>输入URL按回车后都发生了什么<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">-DNS解析 (查询 DNS 浏览器缓存，系统缓存，路由器缓存，IPS服务器缓存，根域名服务器缓存，顶级域名服务器缓存，主域名服务器缓存) -&gt; </span><br><span class="line"></span><br><span class="line">-TCP连接 (</span><br><span class="line"> <span class="comment">// 3次握手</span></span><br><span class="line"> <span class="comment">// 第一次握手 客户端发送 SYN=&gt; 服务端 (客户端: 我来了)</span></span><br><span class="line"> <span class="comment">// 第二次握手 服务端发送 ACK=&gt; 客户端 (服务端: 好嘞)</span></span><br><span class="line"> <span class="comment">// 第三次握手 客户端发送 ACK=&gt; 服务端 (客户端: 好嘞)</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">// 4次挥手</span></span><br><span class="line"> <span class="comment">// 第一次挥手 主动关闭方 FIN=&gt; 被动关闭方 (客户端: 该撤了)</span></span><br><span class="line"> <span class="comment">// 第二次挥手 被动关闭方 ACK=&gt; 主动关闭发 (服务端: 好嘞)</span></span><br><span class="line"> <span class="comment">// 第三次挥手 被动关闭方 FIN=&gt; 主动关闭发 (服务端: 你撤那我也得撤啊 都确认了你最后再吱一声 不然我一直等着就智障了)</span></span><br><span class="line"> <span class="comment">// 第四次挥手 主动关闭方 ACK=&gt; 被动关闭方 (客户端: 好勒)</span></span><br><span class="line">) -&gt;</span><br><span class="line"></span><br><span class="line">-( SSL 四次握手 hello -&gt; certificate-hello -&gt; exchangekey -&gt; finished )</span><br><span class="line"></span><br><span class="line">-发送HTTP请求 (HTTP请求报文是由三部分组成: 请求行, 请求报头和请求正文) -&gt;</span><br><span class="line"></span><br><span class="line">-服务器处理请求返回HTTP报文 (查找资源返回状态码) -&gt;</span><br><span class="line"></span><br><span class="line">-浏览器解析渲染页面 (</span><br><span class="line"> <span class="comment">// T0 -&gt; [Get HTML] =&gt; [Browser Parsing HTML &amp; prefetch]</span></span><br><span class="line"> <span class="comment">// T1.0 -&gt; [Parsing Dom (Will Parse All The Tags Before Script Soon)] </span></span><br><span class="line"> <span class="comment">// T1.1 -&gt; (Maybe CSS Recieved / JS Recieved) =&gt; [(Dom Render Blocking) Load CSS &amp; Build CSSOM] =&gt; [Combine CSSOM + DOM -&gt; Render Tree] =&gt; [Paint]</span></span><br><span class="line"> <span class="comment">// T1.2 -&gt; [(Dom Parser Blocking) Load JS] =&gt; [Run JS] =&gt; [Parsing Dom] =&gt; (DomContentLoaded Event)</span></span><br><span class="line"> <span class="comment">// T1.3 -&gt; [Composite Layers] =&gt; (Load Event)</span></span><br><span class="line"> ) -&gt;</span><br><span class="line">连接结束</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#浏览器渲染流程" title="浏览器渲染流程"></a>浏览器渲染流程<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// T0</span></span><br><span class="line">浏览器预下载: 现代浏览器很聪明，会进行 prefetch 优化，浏览器在获得 HTML 文档之后会对页面上引用的资源进行提前下载。</span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// T1.0</span></span><br><span class="line">DOM解析: 解析器把 HTML 转换为 JavaScript 可存取的 Dom 对象 (由浏览器 UI Render 线程负责)</span><br><span class="line"><span class="comment">// T1.1</span></span><br><span class="line">CSS加载: CSS加载会阻塞 DOM 渲染，不会阻塞 DOM 解析。CSS是阻塞渲染的资源。需要将它尽早、尽快地下载到客户端，以便缩短首次渲染的时间。</span><br><span class="line">Render树: CSSOM 树和 DOM 树合并成渲染树，然后用于计算每个可见元素的布局，并输出给绘制流程，将像素渲染到屏幕上。</span><br><span class="line"><span class="comment">// T1.2</span></span><br><span class="line">JavaScript加载: JavaScript可以查询和修改 DOM 与 CSSOM，所以 JavaScript 执行会阻止 DOM 和 CSSOM 构建 （除非将 JavaScript 显式声明为异步执行）。需要尽量将JavaScript放在 body 的末尾，保证首屏页面先渲染。V8 引擎执行 JavaScript 代码。</span><br><span class="line">DOMContentLoaded Event: 浏览器已经完全加载了HTML，DOM树已经构建完毕，但是像是 &lt;img&gt; 和样式表等外部资源可能并没有下载完毕。</span><br><span class="line"><span class="comment">// T1.3</span></span><br><span class="line">Load Event: 浏览器已经加载了所有的资源（图像，样式表等）。</span><br><span class="line"></span><br><span class="line"><span class="comment">// Paint 问题</span></span><br><span class="line"><span class="comment">// 经过 Chrome Performance 试验结果:</span></span><br><span class="line"><span class="comment">// 正常情况下 CSS Loaded + Parse StyleSheet (Build CSSOM) 随后会 Paint (即 T1.1 中的 Paint)</span></span><br><span class="line"><span class="comment">// 个别情况下 如 JS 资源下载不耗时 原先 T1.1 中的 Paint 可能会延后到 T1.2 DomContentLoaded Event 之后</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#Reflow-和-Repaint" title="Reflow 和 Repaint"></a>Reflow 和 Repaint<br><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">回流: reflow, 浏览器得知元素产生了对文档树排版有影响的样式变化，对所有受影响的dom节点进行重新排版工作</span><br><span class="line">重绘: repaint，就是浏览器得知元素产生了不影响排版的情况下后对这个元素进行重新绘制的过程。例如我们改变了元素的颜色，加个下划线等。</span><br><span class="line"></span><br><span class="line">优化思路: </span><br><span class="line">reflow一定触发repaint</span><br><span class="line">repaint不一定触发reflow</span><br><span class="line">因为reflow开销远大于repaint</span><br><span class="line">所以尽量少去触及dom节点重新排版的工作</span><br><span class="line">有时可以直接把改变的元素absolute踢出文档流 reflow+repaint即只涉及这一个节点</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#浏览器缓存" title="浏览器缓存"></a>浏览器缓存<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>通过 Meta 标签控制: </span><br><span class="line">例如 - &lt;META HTTP-EQUIV=”Pragma” CONTENT=”no-cache”&gt;</span><br><span class="line">只有部分浏览器支持 并为广泛使用</span><br><span class="line"></span><br><span class="line">2.通过 HTTP 缓存控制:  </span><br><span class="line">-2.1 强缓存:</span><br><span class="line"> Expires 是服务器端在响应请求时用来规定资源的失效时间。  </span><br><span class="line"> Cache-Control (HTTP 1.1 出现) 是服务器端在响应请求时用来规定资源是否需要被浏览器缓存以及缓存的有效时间等。  </span><br><span class="line"></span><br><span class="line"> Cache-Control 的优先级要高于 Expires</span><br><span class="line"></span><br><span class="line">-2.2 协商缓存:</span><br><span class="line"> Etag ETag可以保证每一个资源是唯一的，资源变化都会导致ETag变化。</span><br><span class="line"> Last-Modify 该资源的最后修改时间</span><br><span class="line"></span><br><span class="line"> 服务器会优先验证ETag</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#各大浏览器厂商内核" title="各大浏览器厂商内核"></a>各大浏览器厂商内核<br><br><code>IE4-9:   Trident</code><br><code>IE10+:   EdgeHTML</code><br><code>FireFox: Gecko</code><br><code>Opera:   Presto</code><br><code>Safari:  Webkit</code><br><code>Chrome:  Webkit</code><br><br>### <a href="#Tap-与-Click" title="Tap 与 Click"></a>Tap 与 Click<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">触屏网页的 tap 与 click :</span><br><span class="line">两者都会在点击时触发，但是在手机WEB端，click会有 <span class="number">200</span>~<span class="number">300</span> ms，所以请用tap代替click作为点击事件</span><br><span class="line"><span class="comment">//(触屏穿透问题最好通过300ms隐形浮层方法解决 或者 fastclick.js)</span></span><br><span class="line"></span><br><span class="line">tap 实现思路:</span><br><span class="line">基于三个基础触摸事件: touchstart、touchmove、touchend</span><br><span class="line"><span class="comment">// 滑动则不触发 tap + 长按超时则不触发 tap</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#LocalStorage-SessionStorage-两页面通信" title="LocalStorage SessionStorage 两页面通信"></a>LocalStorage SessionStorage 两页面通信<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LocalStorage 同源则 =&gt; 可以</span><br><span class="line">SessionStorage 同源也 =&gt; 不可以</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#同源定义" title="同源定义"></a>同源定义<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[协议]+[端口]+[域名] 都相同</span><br></pre></td></tr></tbody></table></figure><br><br>## <a href="#JavaScript" title="JavaScript"></a>JavaScript<br><br>### <a href="#ES6-ES7-ES8" title="ES6 ES7 ES8"></a>ES6 ES7 ES8<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">ES6常用新特性:</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span><span class="keyword">let</span> &amp;&amp; <span class="keyword">const</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>iterable类型</span><br><span class="line"><span class="comment">/</span></span><br><span class="line"><span class="comment"> <em> </em></span></span><br><span class="line"><span class="comment">let arr = [‘a’, ‘b’, ‘c’];</span></span><br><span class="line"><span class="comment">let iter = arr<a href="">Symbol.iterator</a>;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">iter.next() // { value: ‘a’, done: false }</span></span><br><span class="line"><span class="comment">iter.next() // { value: ‘b’, done: false }</span></span><br><span class="line"><span class="comment">iter.next() // { value: ‘c’, done: false }</span></span><br><span class="line"><span class="comment">iter.next() // { value: undefined, done: true }</span></span><br><span class="line"><span class="comment"> /</span></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span><span class="keyword">for</span> <span class="keyword">of</span> </span><br><span class="line"><span class="comment">// 用于遍历数组 与forEach()不同的是 它可以正确响应 break continue return 语句</span></span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>解构赋值 </span><br><span class="line"><span class="comment">// let [a, b, c] = [1, 2, 3];</span></span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>箭头函数 </span><br><span class="line"><span class="comment">// =&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>…操作符 </span><br><span class="line"><span class="comment">// Math.max(…[14, 3, 77]) 等同于 Math.max(14, 3, 77);</span></span><br><span class="line"></span><br><span class="line"><span class="number">7.</span>类</span><br><span class="line"><span class="comment">// ES6 的 class 可以看作只是一个语法糖</span></span><br><span class="line"><span class="comment">// 类的方法内部如果含有 this 它默认指向类的实例</span></span><br><span class="line"><span class="comment">// 如果一定要实现私有方法可以通过 Symbol 变通实现</span></span><br><span class="line"><span class="keyword">const</span> bar = <span class="built_in">Symbol</span>(<span class="string">‘bar’</span>);</span><br><span class="line"><span class="keyword">const</span> snaf = <span class="built_in">Symbol</span>(<span class="string">‘snaf’</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">myClass</span></span>{</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 公有方法</span></span><br><span class="line">  foo(baz) {</span><br><span class="line">    <span class="keyword">this</span><a href="baz">bar</a>;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 私有方法</span></span><br><span class="line">  <a href="baz">bar</a> {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>[snaf] = baz;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="comment">// …</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ES7新特性:</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span><span class="built_in">Array</span>.prototype.includes</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>Exponentiation Operator(求幂运算)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ES8新特性:</span><br><span class="line"><span class="number">1.</span><span class="built_in">Object</span>.values + <span class="built_in">Object</span>.entries </span><br><span class="line"><span class="comment">// let obj = { a: 1, b: 2, c: 3 }; </span></span><br><span class="line"><span class="comment">// Object.values(obj) [1,2,3]; </span></span><br><span class="line"><span class="comment">// Object.entries(obj) [‘a’, 1], [‘b’, 2], [‘c’, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span><span class="built_in">String</span> padding </span><br><span class="line"><span class="comment">// 字符串填充</span></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span><span class="built_in">Object</span>.getOwnPropertyDescriptors </span><br><span class="line"><span class="comment">// writable 属性的值是否可以被重写 </span></span><br><span class="line"><span class="comment">// enumerable 此属性是否可以被枚举</span></span><br><span class="line"><span class="comment">// configurable 是否可以删除目标属性或是否可以再次修改属性的特</span></span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>函数参数列表和调用中的尾逗号 </span><br><span class="line"><span class="comment">// Trailing commas</span></span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>异步函数 </span><br><span class="line"><span class="comment">// Async Functions</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#throttle-amp-debounce" title="throttle &amp; debounce"></a>throttle &amp; debounce<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// throttle 节流</span></span><br><span class="line"><span class="comment">// 例如用户8s内连续点击300次按钮 可以throttle(fn, 5000)实现节流5s内只触发一次</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> <span class="title">throttle</span> (<span class="params">fn, time</span>) </span>{ </span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> that = fn, </span><br><span class="line">        timer,  </span><br><span class="line">        firstTime = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{ </span><br><span class="line">        <span class="keyword">let</span> args = <span class="built_in">arguments</span>,</span><br><span class="line">            me = <span class="keyword">this</span>;</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> (firstTime) {</span><br><span class="line">            fn.apply(me, args)</span><br><span class="line">            <span class="keyword">return</span> firstTime = <span class="literal">false</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (timer) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        timer = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{ </span><br><span class="line">          clearTimeout(timer)</span><br><span class="line">          timer = <span class="literal">null</span></span><br><span class="line">          fn.apply(me, args)</span><br><span class="line">        }, time || <span class="number">500</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// debounce 防抖</span></span><br><span class="line"><span class="comment">// 例如搜索框只有在用户停止输入1s后才出现联想词 deboune(fn, 1000)</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> <span class="title">debounce</span> (<span class="params">fn, delay</span>) </span>{ </span><br><span class="line">    <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        clearTimeout(timer);</span><br><span class="line">        timer = setTimeout( <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">            fn();</span><br><span class="line">        }, delay);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#ES6的模块化" title="ES6的模块化"></a>ES6的模块化<br><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ES6的模块化的基本规则或特点</span><br><span class="line">1：每一个模块只加载一次， 每一个JS只执行一次， 如果下次再去加载同目录下同文件，直接从内存中读取。 一个模块就是一个单例，或者说就是一个对象；</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#ES6-import" title="ES6 import"></a>ES6 import<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import 命令会被 JavaScript 引擎静态分析 先于模块内的其他语句执行</span><br><span class="line"></span><br><span class="line">如果 import 命令要取代 Node 的 require 方法 这就形成了一个障碍 </span><br><span class="line">因为 require 是运行时加载模块 import 命令无法取代 require 的动态加载功能</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#symbol" title="symbol"></a>symbol<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Symbol可以在set对象property的时候保证不会发生覆盖</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#Array-prototype-sort" title="Array.prototype.sort"></a>Array.prototype.sort<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//错误用法</span></span><br><span class="line"><span class="comment">//会根据首个char字符assic码排序</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.sort.call([<span class="number">12</span>,<span class="number">1</span>,<span class="number">5</span>])</span><br><span class="line">&gt;&gt;&gt; (<span class="number">3</span>) [<span class="number">1</span>, <span class="number">12</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">//正确用法</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.sort.call([<span class="number">12</span>,<span class="number">1</span>,<span class="number">5</span>],(a,b)=&gt;(a-b))</span><br><span class="line">&gt;&gt;&gt; (<span class="number">3</span>) [<span class="number">1</span>, <span class="number">5</span>, <span class="number">12</span>]</span><br><span class="line"></span><br><span class="line">使用<span class="built_in">Array</span>.prototype.sort不应该只返回两种值 <span class="literal">true</span> <span class="literal">false</span> 相当于 <span class="number">1</span> <span class="number">0</span> 而没有 <span class="number">-1</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#JavaScript-This" title="JavaScript This"></a>JavaScript This<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>纯粹的函数调用: <span class="keyword">this</span> === 全局对象 </span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span> === <span class="built_in">window</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>作为对象方法的调用: 这时 <span class="keyword">this</span> 就指这个上级对象</span><br><span class="line">x = {</span><br><span class="line">  a: <span class="number">1</span>, </span><br><span class="line">  f: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{ <span class="built_in">console</span>.log(<span class="keyword">this</span>.a) }</span><br><span class="line">}</span><br><span class="line">x.f() <span class="comment">//1</span></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>作为构造函数调用: <span class="keyword">this</span> 指向这个新对象 </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">o</span>(<span class="params">n</span>) </span>{ <span class="keyword">this</span>.a = n }</span><br><span class="line"><span class="keyword">let</span> o1 = <span class="keyword">new</span> o(<span class="number">1</span>) <span class="comment">// {a: 1}</span></span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>call/apply调用: 指向显式调用的对象</span><br><span class="line">x = {</span><br><span class="line">  a: <span class="number">1</span>, </span><br><span class="line">  f: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{ <span class="built_in">console</span>.log(<span class="keyword">this</span>.a) }</span><br><span class="line">}</span><br><span class="line">x.f.call({<span class="attr">a</span>:<span class="number">2</span>}) <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>箭头函数: 箭头函数不会创建自己的 <span class="keyword">this</span> 它只会从自己的作用域链的上一层继承 <span class="keyword">this</span></span><br><span class="line">x = {</span><br><span class="line">  a: <span class="number">1</span>, </span><br><span class="line">  f: <span class="function"><span class="params">()</span> =&gt;</span> { <span class="built_in">console</span>.log(<span class="keyword">this</span> === <span class="built_in">window</span>) }</span><br><span class="line">}</span><br><span class="line">x.f() <span class="comment">//true</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#Event-Loop机制" title="Event Loop机制"></a>Event Loop机制<br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>）所有同步任务都在主线程上执行，形成一个执行栈（execution context stack）。</span><br><span class="line">（<span class="number">2</span>）主线程之外，还存在一个<span class="string">“任务队列”</span>（task queue）。只要异步任务有了运行结果，就在<span class="string">“任务队列”</span>之中放置一个事件。</span><br><span class="line">（<span class="number">3</span>）一旦<span class="string">“执行栈”</span>中的所有同步任务执行完毕，系统就会读取<span class="string">“任务队列”</span>，看看里面有哪些事件。那些对应的异步任务，于是结束等待状态，进入执行栈，开始执行。</span><br><span class="line">（<span class="number">4</span>）主线程不断重复上面的第三步。</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#macrostasks和microtasks" title="macrostasks和microtasks"></a>macrostasks和microtasks<br><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">除了广义的同步任务和异步任务，我们对任务有更精细的定义：</span><br><span class="line"></span><br><span class="line">macro-task(宏任务)：包括整体代码script，setTimeout，setInterval</span><br><span class="line">micro-task(微任务)：Promise，process.nextTick</span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {<span class="built_in">console</span>.log(<span class="number">1</span>)}, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">    resolve(<span class="string">‘ok’</span>)</span><br><span class="line">}).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">}).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">}).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>);</span><br><span class="line">});</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;&gt; 5 2 3 4 1</span></span><br><span class="line"><span class="comment">// 主线程的所有代码执行结束后。先从微任务queue里拿回掉函数，然后微任务queue空了后再从宏任务的queue拿函数。</span></span><br><span class="line"><span class="comment">// 事件循环总是 一个宏任务 =&gt; 所有微任务 =&gt; 一个宏任务 =&gt; 所有微任务 …</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#setImmediate" title="setImmediate"></a>setImmediate<br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span>);</span><br><span class="line">setImmediate(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">}, <span class="number">0</span>)</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">}, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">    resolve(<span class="string">‘ok’</span>)</span><br><span class="line">}).then(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">})</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">}, <span class="number">1000</span>)</span><br><span class="line">process.nextTick(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">5</span>)  </span><br><span class="line">})</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 0 主执行栈先执行</span></span><br><span class="line"><span class="comment">// 6 主执行栈先执行</span></span><br><span class="line"><span class="comment">// 5 process.nextTick会在事件队列中强势插入</span></span><br><span class="line"><span class="comment">// 3 正常macrotasks执行后该microtasks执行</span></span><br><span class="line"><span class="comment">// 2 </span></span><br><span class="line"><span class="comment">// 1 同一时刻setImmediate压入事件队列的顺序会比setTimeout优先级低</span></span><br><span class="line"><span class="comment">// 4</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#原型-与-prototype" title="原型 与 prototype"></a>原型 与 prototype<br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">DOG</span>(<span class="params">name</span>)</span>{</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">}  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">DOG.prototype.species = <span class="string">‘犬科’</span>; <span class="comment">// 尽量不要用改变 prototype 引用的写法 例如: DOG.prototype = { species: ‘犬科’ } …</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> A = <span class="keyword">new</span> DOG(<span class="string">‘大毛’</span>);</span><br><span class="line"><span class="keyword">var</span> B = <span class="keyword">new</span> DOG(<span class="string">‘二毛’</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(A.species); <span class="comment">// 犬科</span></span><br><span class="line"><span class="built_in">console</span>.log(B.species); <span class="comment">// 犬科</span></span><br><span class="line"></span><br><span class="line">DOG.prototype.species = <span class="string">‘猫科’</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(A.species); <span class="comment">// 猫科</span></span><br><span class="line"><span class="built_in">console</span>.log(B.species); <span class="comment">// 猫科</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 原理: 实例会沿着原型链向上寻找species属性</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/<strong></strong></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> @ 引用关系图</span></span><br><span class="line"><span class="comment">                                      —-.constructor–&gt; </span></span><br><span class="line"><span class="comment"> A —.<strong>proto</strong>—&gt;  DOG.prototype (                     ) DOG</span></span><br><span class="line"><span class="comment">                                      &lt;—-.prototype—- </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> /</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(A.<strong>proto</strong>); </span><br><span class="line"><span class="comment">// {species: “猫科”, constructor: ƒ} </span></span><br><span class="line"><span class="comment">// 其实就是 DOG.prototype</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(DOG.prototype, <span class="string">‘is equal ?’</span>, A.<strong>proto</strong> === DOG.prototype); </span><br><span class="line"><span class="comment">// {species: “猫科”, constructor: ƒ} ‘is equal ?’ true</span></span><br><span class="line"><span class="comment">// 就是他</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(DOG.prototype === DOG.prototype.constructor.prototype); </span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="comment">// 互相引用</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/<strong> @ DOG 和 Function 的关系  </strong>/</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(DOG.<strong>proto</strong>);</span><br><span class="line"><span class="comment">// ƒ () { [native code] }</span></span><br><span class="line"><span class="comment">// 其实就是 Function.prototype</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype, <span class="string">‘is equal ?’</span>, DOG.<strong>proto</strong> === <span class="built_in">Function</span>.prototype);</span><br><span class="line"><span class="comment">// ƒ () { [native code] } “is equal ?” true</span></span><br><span class="line"><span class="comment">// 同理</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype === <span class="built_in">Function</span>.prototype.constructor.prototype)</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="comment">// 同理</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/<strong> @ 所以 对象字面量也同理 </strong>/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> C = { <span class="attr">name</span>: <span class="string">“柴犬”</span> };</span><br><span class="line"><span class="built_in">console</span>.log(C.<strong>proto</strong> === <span class="built_in">Object</span>.prototype);</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype === <span class="built_in">Object</span>.prototype.constructor.prototype);</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#实现简易-Promise" title="实现简易 Promise"></a>实现简易 Promise<br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Promise 是包含 pending fufilled rejected 三种状态的状态机 开发者可以指定未来发生的事件</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prototypePromise</span> (<span class="params">excuteFunction</span>) </span>{</span><br><span class="line">    <span class="keyword">this</span>.stack = [];</span><br><span class="line">    excuteFunction(<span class="keyword">this</span>.onResolve.bind(<span class="keyword">this</span>), <span class="keyword">this</span>.onReject.bind(<span class="keyword">this</span>));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">prototypePromise.prototype.then = <span class="function"><span class="keyword">function</span> (<span class="params">onResolve</span>) </span>{</span><br><span class="line">    <span class="keyword">this</span>.stack.push(onResolve);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">prototypePromise.prototype.catch = <span class="function"><span class="keyword">function</span> (<span class="params">handleError</span>) </span>{</span><br><span class="line">    <span class="keyword">this</span>.handleError = handleError;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">prototypePromise.prototype.onResolve = <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>{</span><br><span class="line">    <span class="keyword">let</span> closer = value;</span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">        <span class="built_in">Array</span>.prototype.forEach.call(<span class="keyword">this</span>.stack, (next) =&gt; {</span><br><span class="line">            closer = next(closer);</span><br><span class="line">        });</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">catch</span> (e) {</span><br><span class="line">        <span class="keyword">this</span>.onReject(e)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">prototypePromise.prototype.onReject = <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>{</span><br><span class="line">    <span class="keyword">this</span>.handleError(err)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#JavaScript内存回收" title="JavaScript内存回收"></a>JavaScript内存回收<br><br><code>1.标记清除: 变量离开执行环境就收回</code><br><code>2.引用计数: 简单粗暴 会受循环引用影响//(中虽然JavaScript对象通过标记清除的方式进行垃圾回收，但BOM与DOM对象却是通过引用计数回收垃圾的， 也就是说只要涉及BOM及DOM就会出现循环引用问题)</code><br><br>### <a href="#js的-按值传递-与-按引用传递" title="js的[按值传递]与[按引用传递]"></a>js的[按值传递]与[按引用传递]<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">六种基本数据类型</span><br><span class="line"></span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line"><span class="literal">null</span></span><br><span class="line">string</span><br><span class="line">boolean</span><br><span class="line">number</span><br><span class="line">symbol(ES6)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">一种引用类型</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span></span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//本质原理</span></span><br><span class="line">原始数据类型 =&gt; 存储在栈中</span><br><span class="line"><span class="comment">//占据空间固定</span></span><br><span class="line">引用类型 =&gt; 存储在堆中</span><br><span class="line"><span class="comment">//(而存储在变量处的值实际上是指针point,指向存储对象内存地址)</span></span><br><span class="line"><span class="comment">//占据空间大小会变</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#typeof-对照表" title="typeof 对照表"></a>typeof 对照表<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span>(<span class="literal">undefined</span>); <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">typeof</span>(<span class="literal">null</span>); <span class="comment">// object ☆</span></span><br><span class="line"><span class="keyword">typeof</span>(<span class="literal">true</span>); <span class="comment">// boolean</span></span><br><span class="line"><span class="keyword">typeof</span>(<span class="number">3</span>); <span class="comment">// number</span></span><br><span class="line"><span class="keyword">typeof</span>(<span class="string">‘str’</span>); <span class="comment">// string</span></span><br><span class="line"><span class="keyword">typeof</span>(<span class="built_in">Symbol</span>(<span class="string">‘k’</span>)); <span class="comment">// symbol</span></span><br><span class="line"><span class="keyword">typeof</span>({<span class="attr">key</span>: <span class="number">0</span>}); <span class="comment">// object</span></span><br><span class="line"><span class="keyword">typeof</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{}); <span class="comment">// function</span></span><br><span class="line"><span class="keyword">typeof</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// object  ☆</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#判断是否-Array" title="判断是否 Array"></a>判断是否 Array<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>); <span class="comment">// true // es6</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(arr) === <span class="string">‘[object Array]’</span>; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">arr.constructor === <span class="built_in">Array</span>; <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#判断是否空对象" title="判断是否空对象"></a>判断是否空对象<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {};</span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接 for in + hasOwnProperty</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ieo</span> (<span class="params">obj</span>) </span>{</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> obj) {</span><br><span class="line">      <span class="keyword">if</span> (obj.hasOwnProperty(i)) {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      }</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ieo(obj); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">JSON</span>.stringify(obj) === <span class="string">‘{}’</span>; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.keys(obj).length === <span class="number">0</span>; <span class="comment">// true // es6</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#如何正确遍历对象属性" title="如何正确遍历对象属性"></a>如何正确遍历对象属性<br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.c = <span class="number">1</span>; <span class="comment">// 把属性c放在 Object 原型链上</span></span><br><span class="line"><span class="keyword">let</span> k = { <span class="attr">a</span>: <span class="number">2</span> }; <span class="comment">// 通过字面量创建一个 Object 实例</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// $ 错误方法: for in</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> k) {</span><br><span class="line">    <span class="built_in">console</span>.log(i) <span class="comment">// a, c // 会把原型链上的属性也打出来</span></span><br><span class="line">} </span><br><span class="line"></span><br><span class="line"><span class="comment">// $ 正确方法: 1.Object.keys</span></span><br><span class="line"><span class="built_in">Object</span>.keys(k); <span class="comment">// [‘a’]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// $ 正确方法: 2.hasOwnProperty</span></span><br><span class="line">k.hasOwnProperty(<span class="string">‘a’</span>) <span class="comment">// true</span></span><br><span class="line">k.hasOwnProperty(<span class="string">‘c’</span>) <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#箭头函数" title="箭头函数"></a>箭头函数<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>箭头函数不会创建自己的<span class="keyword">this</span> 只会从自己的作用域链的上一层继承<span class="keyword">this</span> ☆</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>通过 call() 或 apply() 方法调用一个函数时 第一个参数会被忽略 (bind也同样成立)</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>不绑定Arguments对象</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>不能和<span class="keyword">new</span>一起使用 和<span class="keyword">new</span>一起用会抛出错误</span><br><span class="line"><span class="comment">// 因为使用箭头函数后this会指定闭合的当前上下文，而当函数做为构造器的时候，this又会指向生成的实例， 这个造成歧义。</span></span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>没有prototype</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>不能使用<span class="keyword">yield</span>关键字</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#XSS" title="XSS"></a>XSS<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">XSS: 跨站脚本攻击</span><br><span class="line">恶意web用户将代码植入到提供给其它用户使用的页面中</span><br><span class="line"></span><br><span class="line">XSS防范:</span><br><span class="line">永远不要相信用户的输入 后端转义 + 前端转义</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#CSRF" title="CSRF"></a>CSRF<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">CSRF: 跨站请求伪造</span><br><span class="line">一种挟制用户在当前已登录的Web应用程序上执行非本意的操作的攻击方法</span><br><span class="line"></span><br><span class="line">CSRF 防范</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>最基础的防范就是在 Get 与 Post 区别的文章中有说过</span><br><span class="line">Post 请求要比 Get 更为安全 但只能说会 Pass 一些低级攻击选手。</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>请求来源限制——验证 HTTP Referer 字段</span><br><span class="line">在 HTTP 请求头中有一个字段叫 Referer 它记录了请求的来源地址 </span><br><span class="line">服务器需要做的是验证这个来源地址是否合法 如果是来自一些不受信任的网站 则拒绝响应</span><br><span class="line">(但是 Refer 也能伪造)</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> CSRFToken </span><br><span class="line">使用随机数作为请求参数来校验</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#前端路由原理" title="前端路由原理"></a>前端路由原理<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hash模式: [hash 改变] + [监听 hashChange] + [route map 执行回调]</span><br><span class="line">history模式: [主动 pushState 改变 Path] + [route map 执行回调]</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#CSS3旋转" title="CSS3旋转"></a>CSS3旋转<br><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">ani-load</span> 0<span class="selector-class">.2s</span> <span class="selector-tag">linear</span> <span class="selector-tag">infinite</span>;</span><br><span class="line"><span class="selector-tag">animation</span>: <span class="selector-tag">ani-load</span> 0<span class="selector-class">.3s</span> <span class="selector-tag">linear</span> <span class="selector-tag">infinite</span>;</span><br><span class="line">//</span><br><span class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> ani-load{0%{<span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(0deg);<span class="attribute">transform</span>:<span class="built_in">rotate</span>(0deg)}</span><br><span class="line">100%{<span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(360deg);<span class="attribute">transform</span>:<span class="built_in">rotate</span>(360deg)}</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#CSS3-transform" title="CSS3 transform"></a>CSS3 transform<br><figure class="highlight scss"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transform</span>: rotate(-<span class="number">25deg</span>) translateX(<span class="number">30px</span>); <span class="comment">// 这种先rotate的写法 会把整个坐标系先旋转-25°再平移30px 也就是会向斜上方平移</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#box-sizing" title="box-sizing"></a>box-sizing<br><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">“wrap-a”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>a<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">“wrap-b”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>b<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!– a和b的border-box等价-都能实现占据一行自适应宽度留空间–&gt;</span></span><br><span class="line"><span class="comment">&lt;!– 然而实现占据一半自适应宽度留空间 c的border-box是最佳方法–&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">“wrap-c”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>c<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap-a</span> {</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#CCC</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.wrap-b</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#777</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.wrap-c</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#EEE</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-tag">p</span> {</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#444</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#圣杯布局" title="圣杯布局"></a>圣杯布局<br><br><code>经典圣杯</code><br><br><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">“wrap”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">“center”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">“left”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">“right”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span> {</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.wrap</span> <span class="selector-tag">div</span> {</span><br><span class="line">     <span class="attribute">float</span>: left;</span><br><span class="line">     <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">     <span class="attribute">position</span>: relative;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.wrap</span> <span class="selector-class">.left</span> {</span><br><span class="line">     <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">     <span class="attribute">left</span>: -<span class="number">20px</span>;</span><br><span class="line">     <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.wrap</span> <span class="selector-class">.center</span> {</span><br><span class="line">     <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.wrap</span> <span class="selector-class">.right</span> {</span><br><span class="line">     <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">     <span class="attribute">margin-right</span>: -<span class="number">20px</span>;</span><br><span class="line">     <span class="attribute">background-color</span>: blue;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br><code>Flex圣杯</code><br><br><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">“container”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">“left”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">“main”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">“right”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>{</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-class">.left</span>, <span class="selector-class">.container</span> <span class="selector-class">.right</span>{</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">40px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-class">.main</span>{</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#一线天" title="一线天"></a>一线天<br><br><code>中间固定-两端自适应(PC打开移动页面)</code><br><br><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">“container”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">“left”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">“main”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">“right”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#left</span>, <span class="selector-id">#right</span> {</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> -<span class="number">70px</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#main</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">140px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br><code>Flex 一线天</code><br><br><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">“container”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">“left”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">“main”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">“right”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> {</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#left</span>, <span class="selector-id">#right</span> {</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#main</span> {</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">140px</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#绝对居中" title="绝对居中"></a>绝对居中<br><br><code>经典居中</code><br><br><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> {</span><br><span class="line">    <span class="attribute">display</span>: relative;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">div</span> {</span><br><span class="line">    <span class="attribute">position</span>: absolute;    <span class="comment">/<em> 相对定位或绝对定位均可 </em>/</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: -<span class="number">150px</span> <span class="number">0</span> <span class="number">0</span> -<span class="number">250px</span>;      <span class="comment">/<em> 外边距为自身宽高的一半 </em>/</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br><code>transform居中</code><br><br><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> {</span><br><span class="line">    <span class="attribute">display</span>: relative;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">div</span> {</span><br><span class="line">    <span class="attribute">position</span>: absolute;     <span class="comment">/<em> 相对定位或绝对定位均可 </em>/</span></span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-50%, -50%);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br><code>flex居中</code><br><br><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> {</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;        <span class="comment">/<em> 垂直居中 </em>/</span></span><br><span class="line">    <span class="attribute">justify-content</span>: center;    <span class="comment">/<em> 水平居中 </em>/</span></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">div</span> {}</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#flex-property" title="flex property"></a>flex property<br><figure class="highlight scss"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex</span>: flex-grow flex-shrink flex-basis|auto|initial|inherit;</span><br><span class="line"></span><br><span class="line"><span class="comment">/<em></em></span></span><br><span class="line"><span class="comment">flex-grow   一个数字，规定项目将相对于其他灵活的项目进行扩展的量。</span></span><br><span class="line"><span class="comment">flex-shrink 一个数字，规定项目将相对于其他灵活的项目进行收缩的量。</span></span><br><span class="line"><span class="comment">flex-basis  项目的长度。合法值：”auto”、”inherit” 或一个后跟 “%”、”px”、”em” 或任何其他长度单位的数字。</span></span><br><span class="line"><span class="comment">auto    与 1 1 auto 相同。</span></span><br><span class="line"><span class="comment">none    与 0 0 auto 相同。</span></span><br><span class="line"><span class="comment">initial 设置该属性为它的默认值，即为 0 1 auto。请参阅 initial。</span></span><br><span class="line"><span class="comment">inherit 从父元素继承该属性。请参阅 inherit。</span></span><br><span class="line"><span class="comment">/</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#jsonp" title="jsonp"></a>jsonp<br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">为了便于客户端使用数据，逐渐形成了一种非正式传输协议，人们把它称作JSONP。   </span><br><span class="line">该协议的一个要点就是允许用户传递一个callback参数给服务端   </span><br><span class="line">然后服务端返回数据时会将这个callback参数作为函数名来包裹住<span class="built_in">JSON</span>数据    </span><br><span class="line">这样客户端就可以随意定制自己的函数来自动处理返回数据了。</span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">误解: jQuery Zepto之类的库把Ajax方法和jsonp方法封装在一起是容易产生误解的。   </span><br><span class="line">jsonp: jsonp实际上就不是ajax方法   </span><br><span class="line">jsonp利用&lt;script&gt;标签可以跨域的历史漏洞实现跨域请求参数   </span><br><span class="line">服务端将callback参数作为一个js函数的函数名而回调数据作为函数参数返回   </span><br><span class="line"></span><br><span class="line">callback({ <span class="attr">msg</span>:<span class="string">‘this is json data’</span>})<span class="comment">//jsonp方法的回调</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#多核处理上-node-如何榨干处理器资源" title="多核处理上 node 如何榨干处理器资源?"></a>多核处理上 node 如何榨干处理器资源?<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">=&gt; 多进程</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为了将多核 CPU 的性能发挥到极致</span></span><br><span class="line"><span class="comment">// 最大程度地榨干服务器资源</span></span><br><span class="line"><span class="comment">// egg 采用多进程模型</span></span><br><span class="line"><span class="comment">// 解决了一个 Node.js 进程只能运行在一个 CPU 上的问题</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#Express-原理" title="Express 原理"></a>Express 原理<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Express 有几个比较重要的概念: 中间件 路由 模版引擎</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#Express-中间件原理" title="Express 中间件原理"></a>Express 中间件原理<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">app.use:</span><br><span class="line">加载用于处理 http 请求的 middleware 中间件 </span><br><span class="line"></span><br><span class="line">函数数组:</span><br><span class="line">express 内部维护一个函数数组 这个函数数组表示在发出响应之前要执行的所有函数</span><br><span class="line"></span><br><span class="line">结论:</span><br><span class="line">使用 app.use(fn) 后 传进来的fn就会被扔到这个数组里</span><br><span class="line">执行完毕后调用 next() 方法执行函数数组里的下一个函数</span><br><span class="line">如果没有调用 next() 的话 调用就会被终止</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#Express-路由原理" title="Express 路由原理"></a>Express 路由原理<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">router对象的主要作用:</span><br><span class="line">创建一个普通中间件 或者 路由中间件的引导着(这个引导着Layer对象链接到一个route对象)</span><br><span class="line">然后将其保存到自己的stack数组中</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">‘express’</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 没有挂载路径的中间件，应用的每个请求都会执行该中间件</span></span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">‘Time:’</span>, <span class="built_in">Date</span>.now());</span><br><span class="line">  next();</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">// 挂载至 /user/:id 的中间件，任何指向 /user/:id 的请求都会执行它</span></span><br><span class="line">app.use(<span class="string">‘/user/:id’</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">‘Request Type:’</span>, req.method);</span><br><span class="line">  next();</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">// 路由和句柄函数(中间件系统)，处理指向 /user/:id 的 GET 请求</span></span><br><span class="line">app.get(<span class="string">‘/user/:id’</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>{</span><br><span class="line">  res.send(<span class="string">‘USER’</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> host = server.address().address;</span><br><span class="line">  <span class="keyword">var</span> port = server.address().port;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">‘Example app listening at http://%s:%s’</span>, host, port);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#Express-模板引擎原理" title="Express 模板引擎原理"></a>Express 模板引擎原理<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ejs / jade 将数据和模板整合最终生成 html 文件</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#JavaScript-谷歌规范" title="JavaScript 谷歌规范"></a>JavaScript 谷歌规范<br><br><code>[1]声明式和表达式规范</code><br><br><code>结构:应符合[变量-业务逻辑-函数声明]的结构规范</code><br><br><code>[函数声明式]与[函数表达式]在js解释器预编译阶段存在区别</code><br><br><code>[函数声明式]函数声明和他的赋值都会被提前</code><br><br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">a();<span class="comment">// &gt;&gt; 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//声明式</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br><code>[函数表达式]和变量一样[声明被提前]而[赋值并不被提前]</code><br><br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(e);<span class="comment">// &gt;&gt; undefined</span></span><br><span class="line"></span><br><span class="line">e();<span class="comment">//ERROR:e is not a function(…)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//表达式</span></span><br><span class="line"><span class="keyword">var</span> e =<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br><code>结构:应符合[变量-业务逻辑-函数声明]的结构规范</code><br><br><code>[2]注释规范</code><br><br><code>注释:用醒目多行注释对函数表达式的[参数类型]和[返回值类型]进行注释</code><br><br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/*<em> </em></span></span><br><span class="line"><span class="comment"> 返回字符的字节长度（汉字算2个字节） </span></span><br><span class="line"><span class="comment"><em> @param {string} </em></span></span><br><span class="line"><span class="comment"> @returns {number} </span></span><br><span class="line"><span class="comment"><em>/</em></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getByteLen = <span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>{ </span><br><span class="line">       <span class="keyword">var</span> len = <span class="number">0</span>; </span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; val.length; i++) { </span><br><span class="line">           <span class="keyword">if</span> (val[i].match(<span class="regexp">/[^x00-xff]/ig</span>) != <span class="literal">null</span>) <span class="comment">//全角 </span></span><br><span class="line">               len += <span class="number">2</span>; </span><br><span class="line">           <span class="keyword">else</span></span><br><span class="line">               len += <span class="number">1</span>; </span><br><span class="line">       }; </span><br><span class="line">       <span class="keyword">return</span> len; </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br>## <a href="#Objective-C" title="Objective-C"></a>Objective-C<br><br>### <a href="#iOS中文键盘滚动" title="iOS中文键盘滚动"></a>iOS中文键盘滚动<br><br><code>解决iOS中文键盘滚动的遮挡问题</code><br><br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">#import “ViewController.h”</span><br><span class="line">#import &lt;WebKit/WebKit.h&gt;</span><br><span class="line">#import &lt;objc/runtime.h&gt;</span><br><span class="line"></span><br><span class="line">@interface ViewController ()</span><br><span class="line">    @property(strong,nonatomic) WKWebView webView;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation ViewController</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (void)viewDidLoad {</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line"></span><br><span class="line">    _webView = [[WKWebView alloc] initWithFrame:CGRectMake(0, 60, 320, 508)];</span><br><span class="line">    _webView.navigationDelegate = self;</span><br><span class="line">    _webView.scrollView.bounces= NO;</span><br><span class="line"> &nbsp; &nbsp;NSURL <em>nsurl=[NSURL URLWithString:@”<a href="https://XXXXXX...&quot;]" target="_blank" rel="noopener">https://XXXXXX...&quot;]</a>;</em></span><br><span class="line">    </span><br><span class="line">    NSURLRequest nsrequest=[NSURLRequest requestWithURL:nsurl];</span><br><span class="line">    [_webView loadRequest:nsrequest];</span><br><span class="line">    [self.view addSubview:_webView];</span><br><span class="line"></span><br><span class="line">    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(boardWillShow:) name:UIKeyboardWillShowNotification object:nil];</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">-(void)boardWillShow:(NSNotification <em>)sender{</em></span><br><span class="line">    //获得键盘的尺寸</span><br><span class="line">    CGRect keyBoardRect=[sender.userInfo[UIKeyboardFrameEndUserInfoKey] CGRectValue];</span><br><span class="line">    _webView.scrollView.contentOffset = CGPointMake(0, keyBoardRect.size.height);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (void)didReceiveMemoryWarning {</span><br><span class="line">    [super didReceiveMemoryWarning];</span><br><span class="line">    // Dispose of any resources that can be recreated.</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#iOS存储区" title="iOS存储区"></a>iOS存储区<br><br><code>iOS存储区</code><br><br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Documents/  </span><br><span class="line">//使用这个目录来保存用户生成的文件。用户可以通过文件分享功能访问这个目录的内容。因此，这个目录你应该只放一些你希望展示给用户的文件。这个目录的文件会被 iTunes 和 iCloud 备份。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Library/  (后来发现在wkwebview下会有坑)</span><br><span class="line">//使用 Library 子文件夹来存放任何你不想被用户看到的文件。你的app不应该使用这些文件夹来存放用户数据文件。</span><br><span class="line">//除了 Caches 子文件夹，Library 文件夹下的内容会被 iTunes 和 iCloud 备份。</span><br><span class="line"></span><br><span class="line">tmp/</span><br><span class="line">//使用这个文件夹来存放在临时文件，系统也可能会在你的 app 不再运行的时候清除这个文件夹。</span><br><span class="line">//这个目录的文件 不会 被 iTunes 和 iCloud 备份。</span><br></pre></td></tr></tbody></table></figure><br><br>## <a href="#Algorithm" title="Algorithm"></a>Algorithm<br><br>### <a href="#JavaScript-类似-列表生成式-版本的-快排" title="JavaScript 类似[列表生成式]版本的[快排]"></a>JavaScript 类似[列表生成式]版本的[快排]<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">qsort</span>(<span class="params">arr</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (arr.length &lt;= <span class="number">1</span>) { <span class="keyword">return</span> arr; }</span><br><span class="line">    <span class="keyword">var</span> pivot = arr[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> left = []</span><br><span class="line">    <span class="keyword">var</span> right = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; arr.length; i++) {</span><br><span class="line">      <span class="keyword">if</span> (arr[i] &lt; pivot) {left.push(arr[i])}</span><br><span class="line">      <span class="keyword">else</span> {right.push(arr[i])}</span><br><span class="line">    }</span><br><span class="line">  <span class="keyword">return</span> qsort(left).concat([pivot], qsort(right));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">alert(qsort([<span class="number">32</span>,<span class="number">45</span>,<span class="number">37</span>,<span class="number">16</span>,<span class="number">2</span>,<span class="number">87</span>]));<span class="comment">//弹出“2,16,32,37,45,87”</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#JavaScript-空间最优-版本的-快排" title="JavaScript [空间最优]版本的[快排]"></a>JavaScript [空间最优]版本的[快排]<br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.copy = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">this</span>.constructor.apply(<span class="keyword">this</span>,<span class="keyword">this</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">qsort</span> (<span class="params">list</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (list.length &lt;= <span class="number">1</span>) {</span><br><span class="line">        <span class="keyword">return</span> list</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">let</span> copyList = list.copy();</span><br><span class="line">    partial(copyList, <span class="number">0</span>, copyList.length - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> copyList;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">partial</span> (<span class="params">list, left, right</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (left &gt; right) {</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">let</span> i = left;</span><br><span class="line">    <span class="keyword">let</span> j = right;</span><br><span class="line">    <span class="keyword">let</span> pivot = list[left];</span><br><span class="line">    <span class="keyword">while</span> (i != j) {</span><br><span class="line">        <span class="keyword">while</span> ((list[j] &gt;= pivot) &amp;&amp; i &lt; j) {</span><br><span class="line">            j–</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">while</span> ((list[i] &lt;= pivot) &amp;&amp; i &lt; j) {</span><br><span class="line">            i++</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (i &lt; j) {</span><br><span class="line">            <span class="keyword">let</span> tmp = list[i];</span><br><span class="line">            list[i] = list[j];</span><br><span class="line">            list[j] = tmp;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">let</span> meet = i;</span><br><span class="line">    <span class="keyword">let</span> tmp = list[meet];</span><br><span class="line">    list[meet] = pivot;</span><br><span class="line">    list[left] = tmp;</span><br><span class="line">    partial(list, left, meet - <span class="number">1</span>);</span><br><span class="line">    partial(list, meet + <span class="number">1</span>, right)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(qsort([<span class="number">32</span>,<span class="number">45</span>,<span class="number">37</span>,<span class="number">16</span>,<span class="number">2</span>,<span class="number">87</span>]))</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#JavaScript-归并排序" title="JavaScript 归并排序"></a>JavaScript 归并排序<br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeSort</span>(<span class="params">arr</span>)</span>{</span><br><span class="line">  <span class="keyword">if</span>(arr.length &lt; <span class="number">2</span>){</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">var</span> middle = <span class="built_in">parseInt</span>(arr.length/<span class="number">2</span>);</span><br><span class="line">  <span class="keyword">var</span> left = arr.slice(<span class="number">0</span>,middle);</span><br><span class="line">  <span class="keyword">var</span> right = arr.slice(middle);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> merge(mergeSort(left),mergeSort(right));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">merge</span>(<span class="params">left,right</span>)</span>{</span><br><span class="line">  <span class="keyword">var</span> result = [];</span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>(i &lt; left.length &amp;&amp; j &lt; right.length){</span><br><span class="line">    <span class="keyword">if</span>(left[i] &gt; right[j]){</span><br><span class="line">      result.push(right[j++]);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span>{</span><br><span class="line">      result.push(left[i++]);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">while</span>(i &lt; left.length){</span><br><span class="line">    result.push(left[i++]);</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">while</span>(j &lt; right.length){</span><br><span class="line">    result.push(right[j++]);</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#JavaScript-二分查找" title="JavaScript 二分查找"></a>JavaScript 二分查找<br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bin</span> (<span class="params">list, target</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (list.length &lt;= <span class="number">1</span>) {</span><br><span class="line">        <span class="keyword">return</span> list[<span class="number">0</span>] === target? <span class="number">0</span>: <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">let</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> right = list.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) {</span><br><span class="line">        <span class="keyword">let</span> mid = <span class="built_in">Math</span>.floor((left + right) / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">let</span> center = list[mid];</span><br><span class="line">        <span class="keyword">if</span> (center === target) {</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (center &gt; target) {</span><br><span class="line">            right = mid</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> {</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> list[left] === target? left: <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">bin([<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>], <span class="number">18</span>) <span class="comment">// 7</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#JavaScript-递归-版本斐波那契" title="JavaScript [递归]版本斐波那契"></a>JavaScript [递归]版本斐波那契<br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fib</span> (<span class="params">x</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="number">1</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="number">2</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> fib(x - <span class="number">2</span>) + fib(x - <span class="number">1</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#JavaScript-循环-有缓存-版本斐波那契" title="JavaScript [循环+有缓存]版本斐波那契"></a>JavaScript [循环+有缓存]版本斐波那契<br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fib</span> (<span class="params">x</span>) </span>{</span><br><span class="line">    <span class="keyword">let</span> cache = {</span><br><span class="line">        <span class="string">‘1’</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">‘2’</span>: <span class="number">2</span></span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">3</span>; i &lt;= x; i++) {</span><br><span class="line">        cache[<span class="string">‘’</span> + i] = cache[<span class="string">‘’</span> + (i - <span class="number">1</span>)] + cache[<span class="string">‘’</span> + (i - <span class="number">2</span>)]</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> cache[<span class="string">‘’</span> + x]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#JavaScript-柯里化-版本斐波那契" title="JavaScript [柯里化]版本斐波那契"></a>JavaScript [柯里化]版本斐波那契<br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">kvcf</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">let</span> cache = {</span><br><span class="line">        <span class="string">‘1’</span>: <span class="number">1</span>, </span><br><span class="line">        <span class="string">‘2’</span>: <span class="number">2</span></span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> fib = <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>{</span><br><span class="line">        <span class="keyword">if</span> (cache[<span class="string">‘’</span> + x] !== <span class="literal">undefined</span>) { <span class="keyword">return</span> cache[<span class="string">‘’</span> + x] }</span><br><span class="line">        <span class="keyword">return</span> cache[<span class="string">‘’</span> + x] = fib(x - <span class="number">2</span>) + fib(x - <span class="number">1</span>);;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> fib;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(kvcf()(<span class="number">40</span>)); <span class="comment">// 165580141</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#0-3-999-999-长度为-4-000-000-的数组中出现过多少个字符-‘1’-？" title="0 - 3,999,999 长度为 4,000,000 的数组中出现过多少个字符 ‘1’ ？"></a>0 - 3,999,999 长度为 4,000,000 的数组中出现过多少个字符 ‘1’ ？<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">求解:</span><br><span class="line">  1000000 / 10 = 100000</span><br><span class="line">  100000  6   = 600000</span><br><span class="line">  600000 * 4   = 2400000</span><br><span class="line">  2400000 + 1000000 = 3400000</span><br><span class="line"></span><br><span class="line">答案:</span><br><span class="line">  3400000</span><br></pre></td></tr></tbody></table></figure><br><br>## <a href="#Framework" title="Framework"></a>Framework<br><br>### <a href="#Redux-reducer-必须是纯函数" title="Redux reducer 必须是纯函数"></a>Redux reducer 必须是纯函数<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reducer 必须是纯函数 必须返回一个新state 不能直接修改老state </span><br><span class="line"></span><br><span class="line">本质原因: Redux 判断更新是直接浅层比较 按引用传递会被误认为没有更新</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#vue-对比-Angular、-React" title="vue 对比 Angular、 React"></a>vue 对比 Angular、 React<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. vue的设计倾向于一个Library | 而Angular倾向于一个Framework</span><br><span class="line">2. Vue 3.0 放弃 Object.defineProperty 改用 ES6 Proxy (vue 1.0 - 2.0 的双向绑定定是基于ES5中的getter/setter) | 而Angular基于脏值检测 (从树根部深度遍历效率不高) | React使用setState手动通知数据模型变化</span><br><span class="line">3. Angular使用TypeScript来开发</span><br><span class="line">4. vue更拥抱基于CSS、JavaScript的经典的web开发 学习曲线更友好</span><br><span class="line">5. React会在组件改变时大颗粒度地以其为根组件渲染其所有子组件 | 而vue会跟踪组件关系细粒度地渲染子组件变化</span><br><span class="line">6. React使用JSX以及CSS-in-JS | 而vue即使在单组件内也保留了经典经典的HTML模板以及&lt;style&gt;标签编写CSS</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#vue生命周期" title="vue生命周期"></a>vue生命周期<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">beforeCreate =&gt; created =&gt; beforeMount =&gt; mounted =&gt; beforeDestroy =&gt; destroyed</span><br><span class="line">                                           v  ^</span><br><span class="line">                               beforeUpdate -&gt; updated</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#vue生命周期-数据与Dom节点驱动关系" title="vue生命周期 - 数据与Dom节点驱动关系"></a>vue生命周期 - 数据与Dom节点驱动关系<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  &lt;div id=”app”&gt;</span></span><br><span class="line"><span class="comment">//    &lt;h1&gt;&lt;/h1&gt;</span></span><br><span class="line"><span class="comment">//  &lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">——beforeCreate—— </span><br><span class="line">el     : <span class="literal">undefined</span></span><br><span class="line">data   : <span class="literal">undefined</span></span><br><span class="line">message: <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line">        ——created——   <span class="comment">// 此时 data已初始化 dom节点还未创建</span></span><br><span class="line">        el     : <span class="literal">undefined</span></span><br><span class="line">        data   : {<span class="string">“message”</span>:<span class="string">“你好 Vue”</span>}</span><br><span class="line">        message: 你好 Vue</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                ——beforeMount——   <span class="comment">// 此时 dom节点已创建已添加到页面 插值运算还未计算</span></span><br><span class="line">                el     : <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">                data   : {<span class="string">“message”</span>:<span class="string">“你好 Vue”</span>}</span><br><span class="line">                message: 你好 Vue</span><br><span class="line"></span><br><span class="line">                        ——mounted——  <span class="comment">// 插值运算结束</span></span><br><span class="line">                        el     : <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>你好 Vue<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">                        data   : {<span class="string">“message”</span>:<span class="string">“你好 Vue”</span>}</span><br><span class="line">                        message: 你好 Vue</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                        &gt;&gt;&gt; vm.message = <span class="string">‘你好世界’</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                                ——beforeUpdate——  <span class="comment">// data已经改变 virtualdom还未驱动dom更新</span></span><br><span class="line">                                el     : <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>你好 Vue<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">                                data   : {<span class="string">“message”</span>:<span class="string">“你好世界”</span>}</span><br><span class="line">                                message: 你好世界</span><br><span class="line"></span><br><span class="line">                                        ——updated——  <span class="comment">// 已更新dom</span></span><br><span class="line">                                        el     : <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>你好世界<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">                                        data   : {<span class="string">“message”</span>:<span class="string">“你好世界”</span>}</span><br><span class="line">                                        message: 你好世界</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#vue-observer-dep-watcher-以及-nextTick" title="vue observer/dep/watcher 以及 nextTick"></a>vue observer/dep/watcher 以及 nextTick<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Observer: 数据的观察者，让数据对象的读写操作都处于自己的监管之下</span><br><span class="line"></span><br><span class="line">Watcher: 数据的订阅者，数据的变化会通知到Watcher，然后由Watcher进行相应的操作，例如更新视图</span><br><span class="line"></span><br><span class="line">Dep: Observer与Watcher的纽带，当数据变化时，会被Observer观察到，然后由Dep通知到 Watcher 更新而执行 queuewatcher()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示意:</span></span><br><span class="line"></span><br><span class="line">$vm.data =&gt; Observer <span class="comment">// 一个 data 对应[一个] Observer</span></span><br><span class="line">                  v</span><br><span class="line">                  Observer.walk <span class="comment">// 通过 Observer.walk 多次 defineReactive()</span></span><br><span class="line">                  v</span><br><span class="line">                  <span class="keyword">for</span> (..) {</span><br><span class="line">                      <span class="keyword">const</span> dep = <span class="keyword">new</span> Dep()..  <span class="comment">// 实例化[多个] Dep</span></span><br><span class="line">                      proxy(data) <span class="comment">// Vue 3.0 使用 Proxy 代理多个 key 的 set 和 get</span></span><br><span class="line">                      dep.depend().. addDep.. addSub.. <span class="comment">// 添加[多个]实例化的 watcher 到数组 dep.subs</span></span><br><span class="line">                  }</span><br><span class="line">                  </span><br><span class="line">                  </span><br><span class="line">—-&gt; 拦截到 set —&gt; Observer 调用 dep.notify()</span><br><span class="line">                                      v</span><br><span class="line">                                      遍历subs去更新</span><br><span class="line">                                      V</span><br><span class="line">                                      <span class="keyword">for</span> (…) {</span><br><span class="line">                                          queueWatcher() -&gt; -&gt; -&gt; nextTick(flushSchedulerQueue)</span><br><span class="line">                                      }</span><br><span class="line">                  </span><br><span class="line">                  </span><br><span class="line"></span><br><span class="line"><span class="comment">// nextTick 原理</span></span><br><span class="line"></span><br><span class="line">- queuewatcher 更新本身就用的 nextTick(flushSchedulerQueue)   </span><br><span class="line">- Vue.nextTick 依然使用 nextTick 即可保证回调进入事件队列队尾</span><br><span class="line">- nextTick 基于 microTimerFunc (promise) 或者 macroTimerFunc (setImmediate, MessageChannel, setTimeout) 来实现</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#Angular在什么时刻更新视图" title="Angular在什么时刻更新视图?"></a>Angular在什么时刻更新视图?<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 主要在执行异步事件时</span></span><br><span class="line">用户输入操作，比如点击，提交等</span><br><span class="line">请求服务端数据</span><br><span class="line">定时事件，比如setTimeout，setInterval</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如何监听全部异步事件的?</span></span><br><span class="line">Angular接入了ZoneJS 由它监听了Angular所有的异步事件</span><br><span class="line"><span class="comment">// ZoneJS是怎么做到的呢？</span></span><br><span class="line">其实它重写了所有的异步api（所谓的猴子补丁Monkey patch）！ZoneJS会通知Angular可能有数据发生变化，需要检测更新。</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#vue-key" title="vue key"></a>vue key<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">v-<span class="function"><span class="params">for</span> =&gt;</span> 使用就地复用原则</span><br><span class="line"><span class="comment">// 数据顺序改变时不会移动 dom </span></span><br><span class="line"><span class="comment">// 而是就地改变元素 </span></span><br><span class="line"><span class="comment">// 这个策略不适合类似表单输入框的场景</span></span><br><span class="line"></span><br><span class="line">可以用 :key 来追踪元素</span><br><span class="line"><span class="comment">// 类似 vue 1.x 的 track-by</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#vue-异步组件原理" title="vue 异步组件原理"></a>vue 异步组件原理<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue 异步组件只在实际需要渲染组件时 才触发调用工厂函数</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#Cordova-RN-如何通信" title="Cordova / RN 如何通信"></a>Cordova / RN 如何通信<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Cordova</span></span><br><span class="line"><span class="comment">// 通过打开gap://协议请求被native端拦截</span></span><br><span class="line"></span><br><span class="line">… return prompt(argsJson, <span class="string">‘gap:’</span>+<span class="built_in">JSON</span>.stringify([bridgeSecret, service, action, callbackId])); </span><br><span class="line"></span><br><span class="line">… window.webkit.messageHandlers.cordova.postMessage(command);</span><br><span class="line"></span><br><span class="line"><span class="comment">// native 把返回值和 callbackID 返回给 js</span></span><br><span class="line"><span class="comment">// 完成通信</span></span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// RN</span></span><br><span class="line"></span><br><span class="line">React Native会在一开始生成OC模块表</span><br><span class="line">然后把这个模块表传入JS中 </span><br><span class="line">JS参照模块表 就能通过JavaScriptCore执行而间接调用OC的代码(微信小程序方式类似)</span><br></pre></td></tr></tbody></table></figure><br><br>## <a href="#Tips" title="Tips"></a>Tips<br><br>### <a href="#weinre远端调试" title="weinre远端调试"></a>weinre远端调试<br><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">安装</span><br><span class="line">npm install -g weinre</span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">启动</span><br><span class="line">weinre –httpPort 8080 –boundHost -all-</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#safari无痕模式" title="safari无痕模式"></a>safari无痕模式<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">safari无痕浏览模式</span><br><span class="line"><span class="built_in">window</span>.localStorage.setItem is <span class="literal">true</span> but call error</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#强类型-弱类型-静态类型-动态类型" title="强类型 弱类型 静态类型 动态类型"></a>强类型 弱类型 静态类型 动态类型<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">强类型: 偏向于[不容忍][隐式类型转换]      </span><br><span class="line">弱类型: 偏向于[容忍][隐式类型转换]     </span><br><span class="line">静态类型: ==[静态类型检查] [编译时]拒绝非法行为     </span><br><span class="line">动态类型: ==[动态类型检查] [运行时]拒绝非法行为</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#设计模式" title="设计模式"></a>设计模式<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>单体/单例模式: 一个类只能保证有一个实例 例如对象字面量的方式创建一个单例</span><br><span class="line"></span><br><span class="line"><span class="comment">//先判断实例是否存在，存在则返回，不存在则创建，这样可以保证一个类只有一个实例对象</span></span><br><span class="line"><span class="keyword">var</span> test_simple = test_simple || {</span><br><span class="line">   name: <span class="string">‘alice’</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.1</span>.观察者模式</span><br><span class="line">观察者模式: 要求希望接收到主题通知的观察者必须订阅内容改变的事件</span><br><span class="line"></span><br><span class="line"><span class="number">2.2</span>.发布订阅模式</span><br><span class="line">发布订阅模式: 使用了一个主题/事件通道 这个通道介于订阅者和发布者之间 其目的是避免订阅者和发布者产生依赖</span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3.</span>工厂模式</span><br><span class="line">工厂模式: 提供创建对象的接口 封装一些公用的方法 如果实现具体的业务逻辑 可以放在子类重写父类的方法</span><br><span class="line">优点: 弱化对象间的耦合 防止代码重复</span><br><span class="line">缺点: 简单业务可以用 复杂的业务会导致代码维护性差 不易阅读</span><br><span class="line"></span><br><span class="line">FruitCake.prototype.makeCake = <span class="function"><span class="keyword">function</span>(<span class="params">type</span>)</span>{</span><br><span class="line">    <span class="keyword">var</span> cake;</span><br><span class="line">    <span class="keyword">switch</span> (type){</span><br><span class="line">        <span class="keyword">case</span> <span class="string">‘apple’</span>:</span><br><span class="line">            cake = <span class="keyword">new</span> AppleCake();<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">‘pear’</span>:</span><br><span class="line">            cake = <span class="keyword">new</span> Pear();<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            cake = <span class="keyword">new</span> Orange();<span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> cake;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#ES-Include-Has-In" title="ES Include Has In"></a>ES Include Has In<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">‘2’</span> <span class="keyword">in</span> {<span class="string">‘2’</span>: <span class="number">2</span>}; <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>].includes(<span class="number">2</span>);  <span class="comment">// true</span></span><br><span class="line">(<span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>])).has(<span class="number">2</span>); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#hybrid-app项目-上线流程" title="(hybrid)app项目-上线流程"></a>(hybrid)app项目-上线流程<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">开发=&gt;开发打包=&gt;开发自测=&gt;测试环境打包=&gt;测试(测试同学直接去下载测试包)=&gt;正式发版本=&gt;更新到渠道</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#nvm" title="nvm"></a>nvm<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nvm管理node版本   </span><br><span class="line">nvm use -v 0.10.32</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#package-json版本固化" title="package.json版本固化"></a>package.json版本固化<br><br><code>1.2.2 =&amp;gt; 大版本号.次要版本号.小版本号</code><br><br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">波浪号（tilde）+指定版本：安装时不改变大版本号和次要版本号。</span><br><span class="line">插入号（caret）+指定版本：安装时不改变大版本号。</span><br><span class="line">latest：安装最新版本。</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#console-log的lazy" title="console.log的lazy"></a>console.log的lazy<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">控制台打印的[折叠的][按引用传]的对象,把折叠打开后才拿到折叠起来的值。</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#hybrid-本地xhr" title="hybrid-本地xhr"></a>hybrid-本地xhr<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">可以在服务端配跨域access-allow-origin为’null’</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#CORS-如何带-Cookie" title="CORS 如何带 Cookie"></a>CORS 如何带 Cookie<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xhr.withCredentials</span><br><span class="line"> +</span><br><span class="line">Access-Control-Allow-Credentials: true</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#hybird-base64" title="hybird-base64"></a>hybird-base64<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">base64图片为纯本地图片-不需要发网路请求</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#HTML5-废弃的标签" title="HTML5 废弃的标签"></a>HTML5 废弃的标签<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>可以使用css代替的标签</span><br><span class="line">删除 basefont,big,center,font,s,strike,tt,u 这些纯表现的元素 html5中提倡把画面展示性功能放在css中统一编辑</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>html5不再使用frame</span><br><span class="line">不再用 frame,noframes和frameset，这些标签对可用性产生负面影响。HTML5中不支持frame框架，只支持iframe框架，或者用服务器方创建的由多个页面组成的符合页面的形式，删除以上这三个标签。</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>只有个别浏览器支持的标签</span><br><span class="line">bgsound 背景音乐，blink 文字闪烁，marquee 文字滚动, applet 用于插入JAVA渲染的代码</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>其他不常用的标签</span><br><span class="line">ul替代dir</span><br><span class="line">pre替代listing</span><br><span class="line">code替代xmp</span><br><span class="line">ruby替代rb</span><br><span class="line">abbr替代acronym</span><br><span class="line">废除isindex使用form与input相结合的方式替代。</span><br><span class="line">废除listing使用pre替代</span><br><span class="line">废除nextid使用guids</span><br><span class="line">废除plaintex使用“text/plian”（无格式正文）MIME类型替代。</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#CSS3-硬件加速" title="CSS3 硬件加速"></a>CSS3 硬件加速<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">transform =&gt; 不会触发 repaint</span><br><span class="line"><span class="comment">// 一点非常类似3D绘图功能</span></span><br><span class="line"><span class="comment">// 最终这些使用 transform 的图层都会由独立的合成器进程进行处理</span></span><br><span class="line"><span class="comment">// opacity filter 也支持硬件加速</span></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#CSS-实现-Retina-1px" title="CSS 实现 Retina 1px"></a>CSS 实现 Retina 1px<br><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">1<span class="selector-class">.border-image</span> </span><br><span class="line"></span><br><span class="line">2<span class="selector-class">.linear-gradient</span> </span><br><span class="line"></span><br><span class="line"><span class="selector-class">.border</span> {</span><br><span class="line">    <span class="attribute">background</span>:</span><br><span class="line">    <span class="built_in">linear-gradient</span>(180deg, black, black 50%, transparent 50%) top    left  / <span class="number">100%</span> <span class="number">1px</span> no-repeat,</span><br><span class="line">    <span class="built_in">linear-gradient</span>(90deg,  black, black 50%, transparent 50%) top    right / <span class="number">1px</span> <span class="number">100%</span> no-repeat,</span><br><span class="line">    <span class="built_in">linear-gradient</span>(0,      black, black 50%, transparent 50%) bottom right / <span class="number">100%</span> <span class="number">1px</span> no-repeat,</span><br><span class="line">    <span class="built_in">linear-gradient</span>(-90deg, black, black 50%, transparent 50%) bottom left  / <span class="number">1px</span> <span class="number">100%</span> no-repeat;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3<span class="selector-class">.box-shadow</span> </span><br><span class="line"></span><br><span class="line"><span class="selector-class">.hairlines</span> <span class="selector-tag">li</span> {</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">1px</span> -<span class="number">1px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.5);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4.淘宝使用 initial-scale 0.5/0.333 </span><br><span class="line"></span><br><span class="line">&lt;meta name=”viewport” content=”initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no”&gt;</span><br><span class="line">&lt;meta name=”viewport” content=”initial-scale=0.3333333333333333, maximum-scale=0.33333, user-scalable=no”&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">5.伪元素 1<span class="selector-tag">px</span> <span class="selector-tag">scale</span>(0<span class="selector-class">.5</span>)</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#node-如何读取一个-2G-的文件" title="node 如何读取一个 2G 的文件"></a>node 如何读取一个 2G 的文件<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一次读取一行 边读边处理边写</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#Git-冲突" title="Git 冲突"></a>Git 冲突<br><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">msg:    db      “HELLO ASM”, 10</span><br><span class="line">=======</span><br><span class="line">msg:    db      “Hello man”, 10</span><br><span class="line"><span class="meta">&gt;</span>&gt;&gt;&gt;&gt;&gt;&gt; origin/as</span><br><span class="line"></span><br><span class="line">git会对[不同行修改]自动merge<code>&lt;/span&gt;
&lt;span class=&quot;line&quot;&gt;git对[同行修改]会冲突</code></span><br><span class="line">留下=======作为冲突代码块的区分<code>&lt;/span&gt;
&lt;span class=&quot;line&quot;&gt;解决冲突:  &lt;/span&gt;
&lt;span class=&quot;line&quot;&gt;手动修改conflict的代码</code>-&gt;<code>git add</code>-&gt;<code>git commit</code>-&gt;<code>git push</code></span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#Git-切换到远程分支操作" title="Git 切换到远程分支操作"></a>Git 切换到远程分支操作<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b apple origin/apple</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#Git-工作区-暂存区" title="Git 工作区 暂存区"></a>Git 工作区 暂存区<br><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">工作区 (Working Directory):</span><br><span class="line">就是你在电脑里能看到的目录</span><br><span class="line"></span><br><span class="line">暂存区 (stage):</span><br><span class="line">工作区有一个隐藏目录 .git 这个不算工作区 而是Git的版本库。 </span><br><span class="line">Git的版本库里存了很多东西 其中最重要的就是称为stage（或者叫index）的暂存区</span><br><span class="line"></span><br><span class="line">添加+提交 (add+commit)</span><br><span class="line">git add: 把文件添加进去 实际上就是把文件修改添加到暂存区</span><br><span class="line">git commit: 提交更改 实际上就是把暂存区的所有内容提交到当前分支。</span><br><span class="line">一旦提交后 如果你又没有对工作区做任何修改 那么工作区就是<span class="string">“干净”</span>的</span><br><span class="line"></span><br><span class="line">(HEAD就是当前活跃分支的游标)</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#Webpack-Cool-Plugin" title="Webpack Cool Plugin"></a>Webpack Cool Plugin<br><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.Tree Shaking: 剔除无用 JS 死代码</span><br><span class="line">2.Webpack Bundle Analyzer: 打包分析</span><br></pre></td></tr></tbody></table></figure><br><br>### <a href="#node调试" title="node调试"></a>node调试<br><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">移动端调试:直接localhost换成真实ip访问</span><br></pre></td></tr></tbody></table></figure><br><br></div>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/01/24/hello-world/" rel="next" title="Hello World">
                <i class="fa fa-chevron-left"></i> Hello World
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">卡牌大叔</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">卡牌大叔</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
